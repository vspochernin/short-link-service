# short-link-service
Итоговый проект «Сервис коротких ссылок» по дисциплине "Программирование на языке Java". 1-й семестр 1-го курса МИФИ ИИКС РПО (2024-2025 уч. г).

## Описание проекта

Необходимо разработать решение для управления короткими ссылками с дополнительными функциями:

- Ограничение по количеству переходов.
- Возможность управления ссылками.
- Возможность автоматического удаления ссылок при достижении лимита или истечении времени.

Пользователь должен иметь возможность устанавливать лимит на количество переходов по ссылке и отслеживать ее активность. После достижения лимита переходов или истечения заданного срока ссылка должна стать недоступной, а пользователь получить уведомление с предложением создать новую ссылку.

## Этап 1. Изучение ТЗ и планирование

### ТЗ

1. **Создание коротких ссылок**: cистема должна принимать длинный URL и преобразовывать его в короткую ссылку. Например, при передаче ссылки "https://www.baeldung.com/java-9-http-client" Должно получиться что-то вроде "clck.ru/3DZHeG".
2. **Уникальные ссылки для каждого пользователя**: если один и тот же ресурс сокращают разные пользователи, они должны получать уникальные сокращенные ссылки.
3. **Лимит переходов**: пользователь может задать максимальное количество переходов по ссылке. Как только этот лимит исчерпан, ссылка должна стать недоступной.
4. **Ограничение времени жизни ссылки**: время жизни ссылки должно задаваться системой и ограничиваться определенным сроком (например, сутки). После истечения этого срока ссылка должна автоматически удаляться.
5. **Уведомление пользователя**: пользователь должен получать уведомление, если лимит переходов исчерпан или время жизни ссылки истекло.
6. **Идентификация пользователя по UUID**: каждый пользователь идентифицируется без авторизации при помощи UUID, который генерируется при первом запросе на создание короткой ссылки. Этот UUID используется для отслеживания всех действий пользователя с его ссылками.

### Этап 2. Реализация основных функций

1. **Сокращение ссылки**:
   1. Необходимо разработать алгоритм, который будет преобразовывать длинные URL в короткие.
   2. Необходимо убедиться, что разные пользователи будут получать разные короткие ссылки на один и тот же URL.
2. **Лимит переходов**:
   1. Необходимо реализовать систему, которая будет отслеживать количество переходов по каждой ссылке.
   2. Как только лимит переходов будет исчерпан, пользователь должен быть уведомлен о недоступности ссылки, и ее использование должно блокироваться.
3. **Время жизни ссылки**:
   1. Программа должна автоматически удалять ссылки, срок действия которых истек. Это может быть, например, через сутки после создания.
   2. Время жизни ссылки должно задаваться программно, а не пользователем.
4. **Идентификация пользователя**:
   1. UUID пользователя должен генерироваться при первом запросе на создание короткой ссылки и сохраняться для последующей работы с его ссылками.
   2. Все действия по редактированию или удалению ссылок должны быть доступны только создателю этой ссылки.
5. **Переход по короткой ссылке**:
   1. При вводе короткой ссылки в консоль пользователь должен автоматически перенаправляться на исходный ресурс в браузере.
   2. `Desktop.getDesktop().browse(new URI("https://ru.stackoverflow.com"));`

### Этап 3. Тестирование системы

После реализации всех функций необходимо провести тестирование. Вот ключевые моменты для проверки:

1. Необходимо убедиться, что одна и та же ссылка, сокращенная разными пользователями, генерирует уникальные короткие ссылки.
2. Необходимо проверить, что при исчерпании лимита переходов по ссылке, она блокируется.
3. Необходимо протестировать удаление ссылок по истечении срока жизни. Попробовать задать различные интервалы времени и убедиться, что система корректно удаляет "протухшие" ссылки.

### Этап 4. Подготовка к сдаче

1. Необходимо описать процесс создания и работы с сервисом. Подготовить инструкцию для пользователя, как пользоваться созданными функциями.
2. Код необходимо сохранить на GitHub.
3. Необходимо убедиться, что все функции были реализованы согласно ТЗ, а сервис был протестирован.

### Результат работы

После завершения проекта, сервис должен уметь:

- Принимать длинные URL и возвращать уникальные короткие ссылки.
- Обрабатывать лимит переходов и блокировать ссылку после достижения лимита.
- Удалять протухшие ссылки по истечении времени.
- Уведомлять пользователя о недоступности ссылки.
- Управляться через консоль, включая переходы по сокращенным ссылкам.

## Этапы сдачи проекта

Необходимо разместить проект на GitHub, убедиться, что структура репозитория понятна, а также добавить файл README.md, в котором описать:

- Как пользоваться сервисом.
- Какие команды поддерживаются.
- Как протестировать код.

Пред отправкой проекта на проверку, убедиться, что:

- Все функции проекта работают корректно и соответствуют ТЗ.
- Код оформлен и структурирован согласно стандартам.
- В репозитории есть описание проекта и документация по каждому модулю.
- Если используются внешние библиотеки, добавить инструкции по их установке.

После того, как проект будет готов, необходимо отправить ссылку на репозиторий через форму сдачи проекта.

## Критерии оценивания.

1. **Функциональность (1 балл)**: алгоритм сокращения ссылки должен корректно работать и возвращать уникальную короткую ссылку для каждого пользователя.
2. **Внесение основных параметров работы алгоритма в конфигурационный файл (2 балла)**: при добавлении ссылки пользователь может указать время существования ссылки. Фактическое время хранения должно быть ограничено **меньшим** из введенных пользователем значений или значений, заданных в конфигурационном файле. Необходимо реализовать возможность подключения конфигурации из отдельного файла, чтобы параметры могли быть изменены без изменения кода.
3. **Ограничение по времени жизни (2 балла)**: реализована функция автоматического удаления ссылки по истечении ее срока действия.
4. **Автоматическое удаление ссылок (2 балла)**: ссылки удаляются по достижении лимита переходов или истечении времени жизни.
5. **Уникальность ссылок (2 балла)**: разные пользователи получают разные короткие ссылки на один и тот же URL.
6. **Повторное создание ссылок (2 балла)**: при повторном запросе сокращения той же ссылки, пользователю должна быть сгенерирована новая ссылка.
7. **Переход по ссылке (2 балла)**: при вводе короткой ссылки в консоль должен осуществляться переход на оригинальный ресурс.
8. **Лимит переходов (2 балла)**: ссылка должна блокироваться после достижения заданного пользователем лимита переходов. Пользователь вводит этот лимит и, в зависимости от заданного времени существования ссылки, система выбирает **большее** из введенного пользователем значения и значения, заданного в конфигурационном файле.
9. **Уведомление пользователя (2 балла)**: пользователь получает уведомление, когда ссылка становится недоступной из-за лимита переходов или истечения времени жизни.
10. **Редактирование лимита переходов (2 балла)**: у пользователя есть возможность изменять лимит переходов по ссылке.
11. **Удаление ссылки (2 балла)**: пользователь может удалять свои ссылки.
12. **Идентификация по UUID (2 балла)**: возможность редактирования и удаления ссылки должна быть доступна только ее создателю, идентифицируемому по UUID.
13. **Работа нескольких пользователей (2 балла)**: сервис поддерживает работу нескольких пользователей, каждый из которых может создавать уникальные короткие ссылки.
14. **Администрирование параметров ссылки (2 балла)**: только создатель ссылки может редактировать ее параметры или удалять ее.
15. **Создание нескольких ссылок (2 балла)**: один пользователь может создавать несколько коротких ссылок на разные ресурсы.
16. **Идентификация по UUID при повторных запросах (2 балла)**: система идентифицирует пользователя по UUID и генерирует уникальную ссылку при каждом запросе.
